(this["webpackJsonpshrnk-client"]=this["webpackJsonpshrnk-client"]||[]).push([[0],{13:function(e,a,t){e.exports={form:"AuthForm_form__3UO1a",form__group:"AuthForm_form__group__1qjBL",form__title:"AuthForm_form__title__2H6j6",form__btn:"AuthForm_form__btn__1gtHl",form__link:"AuthForm_form__link__I2pQX",form__errorBox:"AuthForm_form__errorBox__2GnoR",container:"AuthForm_container__1xBVX",disabledAnchor:"AuthForm_disabledAnchor__3BdRH"}},15:function(e,a,t){e.exports={item:"UrlListItem_item__17F6a","item-private":"UrlListItem_item-private__32j4y",item__left:"UrlListItem_item__left__2HQo1",item__right:"UrlListItem_item__right__16mF3",item__btn:"UrlListItem_item__btn__3sA6S","item__btn-copied":"UrlListItem_item__btn-copied__3p8ic","item__btn-delete":"UrlListItem_item__btn-delete__1-zDF",item__sample:"UrlListItem_item__sample__2tPeY"}},16:function(e,a,t){e.exports={navbar:"Navbar_navbar__3DslK",navbar__container:"Navbar_navbar__container__1_R7E",navbar__brand:"Navbar_navbar__brand__kdzg_",navbar__list:"Navbar_navbar__list__tSXHD",navbar__space:"Navbar_navbar__space__1FzI8",navbar__logout:"Navbar_navbar__logout__H3kNb",navbar__username:"Navbar_navbar__username__2q2BX",border:"Navbar_border___Fqgr"}},17:function(e,a,t){e.exports={form:"UrlForm_form__3sSwT",form__container:"UrlForm_form__container__2g9AN",form__input:"UrlForm_form__input__2ozwc","form__input-loading":"UrlForm_form__input-loading__1llp5",form__btn:"UrlForm_form__btn__2_8TK",form__errorMsg:"UrlForm_form__errorMsg__1vDd3","form-private":"UrlForm_form-private__15gaW"}},19:function(e,a,t){e.exports={hero:"Hero_hero__39_oo",hero__left:"Hero_hero__left__3WxUL",hero__right:"Hero_hero__right__2UM64",hero__title:"Hero_hero__title__2wS2K",hero__btn:"Hero_hero__btn__64RAt",hero__image:"Hero_hero__image__2fxZ4"}},29:function(e,a,t){e.exports={footer:"footer_footer__EQtlF",footer__info:"footer_footer__info__3X-TV",footer__aboutMe:"footer_footer__aboutMe__bKUjo"}},32:function(e,a,t){e.exports=t.p+"static/media/logo-main.3859402f.svg"},35:function(e,a,t){e.exports={list:"UrlList_list__11tPJ","list-private":"UrlList_list-private__19bph"}},51:function(e,a,t){e.exports=t.p+"static/media/computer-and-man.d9414d2a.svg"},53:function(e,a,t){e.exports=t.p+"static/media/logo-footer.00a25e95.svg"},54:function(e,a,t){e.exports=t.p+"static/media/under-construction.238f7af1.jpg"},56:function(e,a,t){e.exports=t(88)},87:function(e,a,t){},88:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(24),o=t.n(c),l=t(6),s=t(5),i=t(18),u=t(48),m=t(1),p=t(3),_=t.n(p),b=t(8),f=t(49),h=t.n(f).a.create({baseURL:"https://ilili.me/api",withCredentials:!0}),d=t(14),v="privateURL/CREATE",E="privateURL/LOAD",O="privateURL/DELETE",g="privateURL/CLEAR",y="privateURL/TOGGLE_ERROR",j="privateURL/TOGGLE_LOADING",L={hashes:[],error:null,loading:!1},R=function(e){return function(){var a=Object(b.a)(_.a.mark((function a(t){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:y}),t({type:j}),a.prev=2,a.next=5,h.post("/urls",{originalURL:e});case 5:if(!((r=a.sent).status>=400)){a.next=8;break}throw new Error(r.message);case 8:t({type:v,payload:r.data.newURL}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),t({type:y,payload:a.t0.response.data});case 14:return a.prev=14,t({type:j}),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[2,11,14,17]])})));return function(e){return a.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:return Object(m.a)(Object(m.a)({},e),{},{hashes:[].concat(Object(d.a)(e.hashes),Object(d.a)(a.payload))});case v:return Object(m.a)(Object(m.a)({},e),{},{hashes:[a.payload].concat(Object(d.a)(e.hashes))});case"privateURL/PERSIST_LOCALSTORAGE":return Object(m.a)(Object(m.a)({},e),{},{hashes:[].concat(Object(d.a)(a.payload),Object(d.a)(e.hashes))});case O:return Object(m.a)(Object(m.a)({},e),{},{hashes:Object(d.a)(e.hashes.filter((function(e){return e.id!==a.payload})))});case y:return a.payload?Object(m.a)(Object(m.a)({},e),{},{error:a.payload}):Object(m.a)(Object(m.a)({},e),{},{error:null});case g:return Object(m.a)(Object(m.a)({},e),{},{hashes:[]});case j:return Object(m.a)(Object(m.a)({},e),{},{loading:!e.loading});default:return e}},N="auth/LOGIN",U="auth/SET_USER",x={user:null,loading:!1,error:null,checkError:null},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N:return Object(m.a)(Object(m.a)({},e),{},{user:a.payload});case"auth/LOGOUT":return localStorage.removeItem("user"),Object(m.a)(Object(m.a)({},e),{},{user:null});case"auth/SIGNUP":return Object(m.a)(Object(m.a)({},e),{},{user:a.payload});case"auth/TOGGLE_ERROR":return a.payload?Object(m.a)(Object(m.a)({},e),{},{error:a.payload}):Object(m.a)(Object(m.a)({},e),{},{error:null});case"auth/TOGGLE_LOADING":return Object(m.a)(Object(m.a)({},e),{},{loading:!e.loading});case"auth/TOGGLE_CHECK_ERROR":return a.payload?Object(m.a)(Object(m.a)({},e),{},{checkError:a.payload}):Object(m.a)(Object(m.a)({},e),{},{checkError:null});case U:return Object(m.a)(Object(m.a)({},e),{},{user:a.payload});default:return e}},k={hashes:JSON.parse(localStorage.getItem("hashes"))||[],error:null,loading:!1},S=function(e){return function(){var a=Object(b.a)(_.a.mark((function a(t){var r,n;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==e.trim()){a.next=3;break}return t({type:"publicURL/TOGGLE_ERROR",payload:{message:"URL \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4. \uc815\ud655\ud55c URL\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."}}),a.abrupt("return");case 3:return t({type:"publicURL/TOGGLE_LOADING"}),t({type:"publicURL/TOGGLE_ERROR"}),a.prev=5,a.next=8,h.post("/urls/public",{originalURL:e});case 8:if(!((r=a.sent).status>=400)){a.next=11;break}throw new Error(r.data);case 11:n=JSON.parse(localStorage.getItem("hashes")),localStorage.setItem("hashes",JSON.stringify([r.data].concat(Object(d.a)(n||[])))),t({type:"publicURL/CREATE",payload:r.data}),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(5),t({type:"publicURL/TOGGLE_ERROR",payload:a.t0.response.data});case 19:return a.prev=19,t({type:"publicURL/TOGGLE_LOADING"}),a.finish(19);case 22:case"end":return a.stop()}}),a,null,[[5,16,19,22]])})));return function(e){return a.apply(this,arguments)}}()},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"publicURL/CREATE":return e.hashes.find((function(e){return e.id===a.payload.id}))?Object(m.a)(Object(m.a)({},e),{},{hashes:[a.payload].concat(Object(d.a)(e.hashes.filter((function(e){return e.id!==a.payload.id}))))}):Object(m.a)(Object(m.a)({},e),{},{hashes:[a.payload].concat(Object(d.a)(e.hashes))});case"publicURL/TOGGLE_LOADING":return Object(m.a)(Object(m.a)({},e),{},{loading:!e.loading});case"publicURL/TOGGLE_ERROR":return a.payload?Object(m.a)(Object(m.a)({},e),{},{error:a.payload}):Object(m.a)(Object(m.a)({},e),{},{error:null});case"publicURL/CLEAR":return Object(m.a)(Object(m.a)({},e),{},{hashes:[]});default:return e}},I=Object(i.c)({auth:G,publicURL:T,privateURL:w}),P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,C=[u.a],A=Object(i.e)(I,P(i.a.apply(void 0,C))),F=t(4),D=t(32),H=t.n(D),J=t(16),B=t.n(J);function M(e){var a=e.isLoggedIn,t=e.handleLogout,r=e.user;return n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:B.a.navbar},n.a.createElement("div",{className:B.a.navbar__container},n.a.createElement("div",{className:B.a.navbar__brand},a?n.a.createElement(l.b,{to:"/urls"},n.a.createElement("img",{src:H.a,alt:"shrnk logo"})):n.a.createElement(l.b,{to:"/"},n.a.createElement("img",{src:H.a,alt:"shrnk logo"}))),n.a.createElement("ul",{className:B.a.navbar__list},a?n.a.createElement(n.a.Fragment,null,n.a.createElement("li",null,n.a.createElement("button",{type:"button",onClick:t,className:B.a.navbar__logout},"\ub85c\uadf8\uc544\uc6c3")),n.a.createElement("li",null,n.a.createElement(l.b,{className:"".concat(B.a.navbar__username," ").concat(B.a.border),to:"/user-details"},r.name))):n.a.createElement(n.a.Fragment,null,n.a.createElement("li",null,n.a.createElement(l.b,{to:"/login"},"\ub85c\uadf8\uc778")),n.a.createElement("li",null,n.a.createElement(l.b,{to:"/signup",className:B.a.border},"\ud68c\uc6d0\uac00\uc785")))))),n.a.createElement("div",{className:B.a.navbar__space}))}M.defaultProps={user:null};var X=M;var z=function(){var e=Object(s.c)((function(e){return e.auth.user})),a=Object(s.b)(),t=Object(r.useCallback)((function(){a(function(){var e=Object(b.a)(_.a.mark((function e(a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/users/logout",{withCredentials:!0});case 2:a((function(e){e({type:g})})),a({type:"auth/LOGOUT"});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[]);return n.a.createElement(X,{isLoggedIn:!!e,user:e,handleLogout:t})},K=t(21),q=t(28),Q=t.n(q),V=t(17),W=t.n(V);function Y(e){var a=e.handleChange,t=e.handleSubmit,r=e.originalURL,c=e.error,o=e.loading,l=e.isPrivate;return n.a.createElement("form",{onSubmit:t,className:"".concat(W.a.form," ").concat(l?W.a["form-private"]:"")},n.a.createElement("div",{className:W.a.form__container},n.a.createElement("input",{type:"text",name:"OriginalURL",onChange:a,value:r,className:"".concat(W.a.form__input," ").concat(c&&W.a["form__input-error"]," ").concat(o&&W.a["form__input-loading"]),placeholder:"URL\uc744 \uc785\ub825\ud558\uc138\uc694",disabled:o}),n.a.createElement("button",{type:"submit",className:W.a.form__btn,disabled:o},o?n.a.createElement(Q.a,{color:"white",size:"10px"}):"shrink!")),c&&n.a.createElement("span",{className:W.a.form__errorMsg},c.message))}Y.defaultProps={error:null};var Z=n.a.memo(Y);function $(e){var a=e.isPrivate,t=Object(r.useState)(""),c=Object(K.a)(t,2),o=c[0],l=c[1],i=Object(s.b)(),u=Object(s.c)((function(e){return a?e.privateURL:e.publicURL})),m=u.loading,p=u.error,f=Object(r.useCallback)((function(e){l(e.target.value)}),[]),h=function(){var e=Object(b.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(a?R(o):S(o)),l("");case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement(Z,{handleChange:f,handleSubmit:h,originalURL:o,error:p,loading:m,isPrivate:a})}$.defaultProps={isPrivate:!1};var ee=n.a.memo($),ae=t(51),te=t.n(ae),re=t(19),ne=t.n(re);var ce=function(){return n.a.createElement("section",{className:ne.a.hero},n.a.createElement("div",{className:ne.a.hero__left},n.a.createElement("h1",{className:ne.a.hero__title},"\uae34 url\uc744 \uc9e7\uac8c \uc904\uc5ec\ubcf4\uc138\uc694."),n.a.createElement("p",null,"\ubb34\ub8cc\ub85c \ud68c\uc6d0\uac00\uc785\ud558\uc5ec \uc5ec\ub7ec url\ub4e4\uc744 \uad00\ub9ac\ud574\ubcf4\uc138\uc694."),n.a.createElement("p",null,"\ud68c\uc6d0\uac00\uc785\ud558\uc9c0 \uc54a\uace0 \uc904\uc778 url\uc740 7\uc77c \ub3d9\uc548\ub9cc \uc811\uadfc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),n.a.createElement(l.b,{to:"/signup",className:ne.a.hero__btn},"\ubb34\ub8cc\ub85c \ud68c\uc6d0\uac00\uc785")),n.a.createElement("div",{className:ne.a.hero__right},n.a.createElement("img",{src:te.a,alt:"Computer and man",className:ne.a.hero__image})))};var oe=function(){return n.a.createElement(ce,null)},le=t(55),se=t(52),ie=t.n(se),ue=t(15),me=t.n(ue);function pe(e){var a=e.hash,t=e.sample,c=e.isPrivate,o=e.handleDelete,l=Object(r.useState)(!1),s=Object(K.a)(l,2),i=s[0],u=s[1],m=Object(r.useRef)(),p="ilili.me/".concat(a.hash);return Object(r.useEffect)((function(){var e,a=new ie.a(m.current);return a.on("success",(function(){u(!0),e=setTimeout((function(){u(!1)}),1e3)})),a.on("error",(function(){alert("\uc774 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc9c1\uc811 \ubcf5\uc0ac\ud574\uc8fc\uc138\uc694.")})),function(){clearTimeout(e),a.destroy()}}),[m]),n.a.createElement("li",{className:"".concat(c?me.a["item-private"]:me.a.item)},t?n.a.createElement("div",{className:me.a.item__sample},n.a.createElement("span",null,"\u2014\u2014\u2014\u2014 \uc608\uc2dc\uc785\ub2c8\ub2e4 \u2014\u2014\u2014\u2014")):null,n.a.createElement("div",{className:me.a.item__left},a.originalURL),n.a.createElement("div",{className:me.a.item__right},n.a.createElement("a",{href:"".concat("https://ilili.me","/").concat(a.hash),className:me.a.item__shortenedURL,target:"_blank",rel:"noopener noreferrer"},p),n.a.createElement("button",{type:"button",ref:m,"data-clipboard-text":p,className:"".concat(me.a.item__btn," ").concat(i?me.a["item__btn-copied"]:"")},i?"copied!":"copy"),c&&n.a.createElement("button",{className:"".concat(me.a.item__btn," ").concat(me.a["item__btn-delete"]),type:"button",onClick:function(){return o(a.id)}},n.a.createElement(le.a,null))))}pe.defaultProps={sample:!1,handleDelete:null,isPrivate:!1};var _e=pe;function be(e){var a=e.hash,t=e.sample,c=e.isPrivate,o=Object(s.b)(),l=Object(r.useCallback)((function(e){o(function(e){return function(){var a=Object(b.a)(_.a.mark((function a(t){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:y}),t({type:j}),a.prev=2,a.next=5,h.delete("/urls/".concat(e));case 5:if(!((r=a.sent).status>=400)){a.next=8;break}throw new Error(r.message);case 8:t({type:O,payload:e}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),t({type:y,payload:a.t0.response.data});case 14:return a.prev=14,t({type:j}),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[2,11,14,17]])})));return function(e){return a.apply(this,arguments)}}()}(e))}),[]);return c?n.a.createElement(_e,{isPrivate:c,hash:a,sample:t,handleDelete:l}):n.a.createElement(_e,{hash:a,sample:t})}be.defaultProps={sample:!1};var fe=be,he=t(35),de=t.n(he);var ve=function(e){var a=e.children,t=e.isPrivate;return n.a.createElement("section",null,n.a.createElement("ul",{className:" ".concat(t?de.a["list-private"]:de.a.list)},a))};function Ee(e){var a=e.isPrivate,t=Object(s.c)((function(e){return a?e.privateURL.hashes:e.publicURL.hashes}));return n.a.createElement(ve,{isPrivate:a},0===t.length?n.a.createElement(fe,{hash:{originalURL:"https://reactjs.org/blog/2019/11/06/building-great-user-experiences-with-concurrent-mode-and-suspense.html",hash:"e8OtuXdU"},isPrivate:a,sample:!0}):t.map((function(e){return n.a.createElement(fe,{key:e.id,hash:e,isPrivate:a})})))}Ee.defaultProps={isPrivate:!1};var Oe=Ee,ge=t(29),ye=t.n(ge),je=t(53),Le=t.n(je);var Re=function(){return n.a.createElement("footer",{className:ye.a.footer},n.a.createElement("img",{src:Le.a,alt:"shrnk logo"}),n.a.createElement("div",{className:ye.a.footer__info},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(l.b,{to:"/login"},"\ub85c\uadf8\uc778")),n.a.createElement("li",null,n.a.createElement(l.b,{to:"/signup"},"\ud68c\uc6d0\uac00\uc785"))),n.a.createElement("div",{className:ye.a.footer__aboutMe},n.a.createElement("p",null,"\xa9 Sanghyun Park 2020."))))};var we=function(){return n.a.createElement(Re,null)};var Ne=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(oe,null),n.a.createElement(ee,null),n.a.createElement(Oe,null),n.a.createElement(we,null))},Ue=t(26),xe=t(13),Ge=t.n(xe);function ke(e){var a=e.handleSubmit,t=e.handleChange,r=e.form,c=e.isLogin,o=e.error,s=e.loading;return n.a.createElement("div",{className:Ge.a.container},n.a.createElement("form",{onSubmit:a,className:Ge.a.form},n.a.createElement("h1",{className:Ge.a.form__title},c?"\ub85c\uadf8\uc778":"\ud68c\uc6d0\uac00\uc785"),!c&&n.a.createElement("div",{className:Ge.a.form__group},n.a.createElement("input",{type:"text",id:"name",name:"name",onChange:t,placeholder:"\uc774\ub984",value:r.name,autoComplete:"name"}),n.a.createElement("label",{htmlFor:"name"},"\uc774\ub984")),n.a.createElement("div",{className:Ge.a.form__group},n.a.createElement("input",{type:"text",id:"email",name:"email",onChange:t,placeholder:"\uc774\uba54\uc77c",value:r.email,autoComplete:"email"}),n.a.createElement("label",{htmlFor:"email"},"\uc774\uba54\uc77c")),n.a.createElement("div",{className:Ge.a.form__group},n.a.createElement("input",{type:"password",id:"password",name:"password",onChange:t,placeholder:c?"\ube44\ubc00\ubc88\ud638":"\ube44\ubc00\ubc88\ud638 (6\uc790 \uc774\uc0c1)",value:r.password,autoComplete:c?"current-password":"new-password"}),n.a.createElement("label",{htmlFor:"password"},"\ube44\ubc00\ubc88\ud638")),!c&&n.a.createElement("div",{className:Ge.a.form__group},n.a.createElement("input",{type:"password",id:"confirmPassword",name:"confirmPassword",onChange:t,placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",value:r.confirmPassword,autoComplete:"new-password"}),n.a.createElement("label",{htmlFor:"confirmPassword"},"\ube44\ubc00\ubc88\ud638 \ud655\uc778")),n.a.createElement("span",{className:Ge.a.form__errorBox},null===o||void 0===o?void 0:o.message),n.a.createElement("button",{type:"submit",className:Ge.a.form__btn,disabled:s},s?n.a.createElement(Q.a,{color:"white",size:"10px"}):c?"\ub85c\uadf8\uc778":"\ud68c\uc6d0\uac00\uc785"),n.a.createElement("span",{className:Ge.a.form__link},c?"\uc544\uc9c1 \ud68c\uc6d0\uc774 \uc544\ub2c8\uc2e0\uac00\uc694?":"\uc774\ubbf8 \ud68c\uc6d0\uc774\uc2e0\uac00\uc694?"," ",n.a.createElement(l.b,{to:c?"/signup":"/login",className:s?Ge.a.disabledAnchor:""},c?"\ud68c\uc6d0\uac00\uc785":"\ub85c\uadf8\uc778"))))}ke.defaultProps={isLogin:!1};var Se=ke;function Te(e){var a=e.isLogin,t=Object(s.b)(),c=Object(s.c)((function(e){return e.auth})),o=c.error,l=c.loading,i=(c.user,Object(r.useState)((function(){var e={email:"",password:""};return a?e:Object(m.a)(Object(m.a)({},e),{},{confirmPassword:"",name:""})}))),u=Object(K.a)(i,2),p=u[0],f=u[1],d=Object(r.useCallback)((function(e){var a=e.target,t=a.name,r=a.value;f((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(Ue.a)({},t,r))}))}),[]),v=Object(r.useCallback)((function(e){e.preventDefault(),t(function(e){var a=e.email,t=e.password;return function(){var e=Object(b.a)(_.a.mark((function e(r){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.trim()&&""!==t.trim()){e.next=3;break}return r({type:"auth/TOGGLE_ERROR",payload:{message:"\ube48 \uce78 \uc5c6\uc774 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694."}}),e.abrupt("return");case 3:return r({type:"auth/TOGGLE_LOADING"}),r({type:"auth/TOGGLE_ERROR"}),e.prev=5,e.next=8,h.post("/users/login",{email:a,password:t},{withCredentials:!0});case 8:if(!((n=e.sent).status>=400)){e.next=11;break}throw new Error(n.data);case 11:r({type:N,payload:n.data}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),r({type:"auth/TOGGLE_ERROR",payload:e.t0.response.data});case 17:return e.prev=17,r({type:"auth/TOGGLE_LOADING"}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})));return function(a){return e.apply(this,arguments)}}()}(p))}),[p]),E=Object(r.useCallback)((function(e){e.preventDefault(),t(function(e){var a=e.name,t=e.email,r=e.password,n=e.confirmPassword;return function(){var e=Object(b.a)(_.a.mark((function e(c){var o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.trim()&&""!==r.trim()&&""!==a.trim()&&""!==n.trim()){e.next=3;break}return c({type:"auth/TOGGLE_ERROR",payload:{message:"\ube48 \uce78 \uc5c6\uc774 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694."}}),e.abrupt("return");case 3:if(r===n){e.next=6;break}return c({type:"auth/TOGGLE_ERROR",payload:{message:"\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}}),e.abrupt("return");case 6:return c({type:"auth/TOGGLE_LOADING"}),c({type:"auth/TOGGLE_ERROR"}),e.prev=8,e.next=11,h.post("/users/signup",{name:a,email:t,password:r,confirmPassword:n},{withCredentials:!0});case 11:if(!((o=e.sent).status>=400)){e.next=14;break}throw new Error(o.data);case 14:c({type:"auth/SIGNUP",payload:o.data}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),c({type:"auth/TOGGLE_ERROR",payload:e.t0.response.data});case 20:return e.prev=20,c({type:"auth/TOGGLE_LOADING"}),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[8,17,20,23]])})));return function(a){return e.apply(this,arguments)}}()}(p))}),[p]);return Object(r.useEffect)((function(){return function(){var e=JSON.parse(localStorage.getItem("hashes"));(null===e||void 0===e?void 0:e.length)&&(t(function(e){return function(){var a=Object(b.a)(_.a.mark((function a(t){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:y}),t({type:j}),a.prev=2,a.next=5,h.post("/urls/batch",{hashes:e});case 5:if(!((r=a.sent).status>=400)){a.next=8;break}throw new Error(r.message);case 8:localStorage.setItem("hashes","[]"),t({type:"privateURL/PERSIST_LOCALSTORAGE",payload:r.data.newURLs}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(2),t({type:y,payload:a.t0.response.data});case 15:return a.prev=15,t({type:j}),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[2,12,15,18]])})));return function(e){return a.apply(this,arguments)}}()}(e)),t((function(e){e({type:"publicURL/CLEAR"})})))}}),[]),n.a.createElement(Se,{handleSubmit:a?v:E,handleChange:d,form:p,isLogin:a,error:o,loading:l})}Te.defaultProps={isLogin:!1};var Ie=Te;var Pe=function(){return n.a.createElement(Ie,{isLogin:!0})};var Ce=function(){return n.a.createElement(Ie,{isLogin:!1})};var Ae=function(){var e=Object(s.c)((function(e){return e.auth.user.id})),a=Object(s.b)();return Object(r.useEffect)((function(){a(function(e){return function(){var a=Object(b.a)(_.a.mark((function a(t){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:y}),t({type:j}),a.prev=2,a.next=5,h.get("/users/".concat(e,"/urls"));case 5:if(!((r=a.sent).status>=400)){a.next=8;break}throw new Error(r.message);case 8:t({type:E,payload:r.data}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),t({type:y,payload:a.t0.response.data});case 14:return a.prev=14,t({type:j}),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[2,11,14,17]])})));return function(e){return a.apply(this,arguments)}}()}(e))}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(ee,{isPrivate:!0}),n.a.createElement(Oe,{isPrivate:!0}))},Fe=t(54),De=t.n(Fe);var He=function(){return n.a.createElement("div",{style:{height:"calc(100vh - 7rem)",display:"flex",justifyContent:"center",alignItems:"center"}},n.a.createElement("img",{src:De.a,alt:"under construction"}))};var Je=function(){var e,a=Object(s.c)((function(e){return e.auth.user}));return Object(r.useEffect)((function(){a&&!localStorage.getItem("user")&&localStorage.setItem("user",JSON.stringify(a))}),[a]),e=a?n.a.createElement(F.d,null,n.a.createElement(F.b,{path:"/urls",component:Ae}),n.a.createElement(F.b,{path:"/user-details",component:He}),n.a.createElement(F.a,{to:"/urls"})):n.a.createElement(F.d,null,n.a.createElement(F.b,{exact:!0,path:"/",component:Ne}),n.a.createElement(F.b,{path:"/login",component:Pe}),n.a.createElement(F.b,{path:"/signup",component:Ce}),n.a.createElement(F.a,{to:"/"})),n.a.createElement(n.a.Fragment,null,n.a.createElement(z,null),e)};t(87);!function(){var e=localStorage.getItem("user");e&&A.dispatch(function(e){return function(){var a=Object(b.a)(_.a.mark((function a(t){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.get("/users/check-auth");case 3:if(!((r=a.sent).status>=400)){a.next=6;break}throw new Error(r.message);case 6:t({type:U,payload:JSON.parse(e)}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),localStorage.removeItem("user"),t({type:U,payload:null});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(e))}(),o.a.render(n.a.createElement(s.a,{store:A},n.a.createElement(l.a,null,n.a.createElement(Je,null))),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.7b81d828.chunk.js.map